<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orders</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script>
         window.addEventListener('DOMContentLoaded', (event) => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById("currentDate").value = today;
            });
    </script>
</head>
<body>
<div th:replace="~{fragments/navbar::navbar(activeLink=${'home'})}"></div>
<div class="container">
    <h1>preOrder</h1>

    <form
            th:method="post"
            th:action="@{/orders/preOrder}"
            th:object="${preOrderData}"
    >



    <div class="add-container">


        <!--Article-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="artNum">Article:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('artNum')}" th:errors="*{artNum}">Article Error</small>

            <input class="preOrder-input"
                   type="text"
                   th:errorclass="is-invalid"
                   th:field="*{artNum}" minlength="2" maxlength="50" required>
        </div>

        <!--Quantity-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="quantityForOrder">Quantity:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('quantityForOrder')}" th:errors="*{quantityForOrder}">Quantity Error</small>

            <input class="preOrder-input"
                   type="number"
                   th:errorclass="is-invalid"
                   th:field="*{quantityForOrder}" minlength="1" maxlength="50" required>
        </div>

        <!--Order by-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="orderBy">Order by:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('orderBy')}" th:errors="*{orderBy}">Quantity Error</small>

            <input class="preOrder-input"
                   type="text"
                   th:errorclass="is-invalid"
                   th:field="*{orderBy}" minlength="2" maxlength="50" required>
        </div>

        <!--Date-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="date">Date:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('date')}" th:errors="*{date}">Date error</small>

            <input class="preOrder-input"
                   type="date"
                   id="currentDate"
                   name="currentDate"
                   th:errorclass="is-invalid"
                   th:field="*{date}" minlength="2" maxlength="50" required>
        </div>

        <!--Order reason-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="orderReason">Order reason:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('orderReason')}" th:errors="*{orderReason}">Quantity Error</small>

            <input class="preOrder-input"
                   type="text"
                   th:errorclass="is-invalid"
                   th:field="*{orderReason}" minlength="2" maxlength="50">
        </div>

        <!--Comments-->
        <div class="preOrder-entity">
            <label class="preOrder-label"
                   th:for="comment">Comments:
            </label>

            <small class="text-danger" th:if="${#fields.hasErrors('comment')}" th:errors="*{comment}">comment Error</small>

            <input class="preOrder-input"
                   type="text"
                   th:errorclass="is-invalid"
                   th:field="*{comment}" minlength="2" maxlength="50">
        </div>

        <button type="submit">Добави</button>

    </div>
        <table>
            <thead>
            <tr class="table-data">
                <th th:text="#{orders_article_number}">article</th>
                <th th:text="#{orders_pcs}">Quantity</th>
                <th th:text="#{orders_ordered_by}">Ordered by</th>
                <th th:text="#{orders_date}">Date</th>
                <th th:text="#{orders_reason}">Order reason</th>
                <th th:text="#{orders_comment}">Comment</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="article : ${allArticle}"
                th:object="${article}" class="container">
                <td><span th:text="*{artNum()}">Art. </span></td>
                <td><span th:text="*{quantityForOrder()}">Quantity</span></td>
                <td><span th:text="*{orderBy()}">Поръчано от</span></td>
                <td><span th:text="*{date()}">Date</span></td>
                <td><span th:text="*{orderReason()}">Order reason</span></td>
                <td><span th:text="*{comment()}">Number of stops</span></td>
<!--                <td><span th:text="*{author()}">Added by</span></td>-->
                <td>
<!--                    <form sec:authorize="hasRole('ADMIN')" th:method="delete"-->
<!--                          th:action="@{/elevator/{id}(id=${elevator.id()})}" >-->
<!--                        <input type="hidden" name="id" th:value="delete">-->
<!--                        <button type="submit">Delete</button>-->
<!--                    </form>-->

<!--                    <form th:method="get"-->
<!--                          th:action="@{/elevator/editElevator/{id}(id=*{id})}">-->
<!--                        <button onclick="editElevator(1)" th:method="get" th:href="@{/elevator/editElevator/{id}(id=*{id})}">Edit</button>-->
<!--                    </form>-->

                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>
</body>
</html>
